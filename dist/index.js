var o,t,i,n,e,s=(o=!1,t=[],i={scrollTarget:document},n=function(o){void 0===o&&(o=!1);var n=i.scrollTarget===document?window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0:i.scrollTarget.scrollTop;t.forEach(function(i,e){if("breakpoint"===i.type)i.isBelowBreakpoint&&n>=i.startPosition?(t[e].isBelowBreakpoint=!1,i.callback(!0,n)):!i.isBelowBreakpoint&&n<i.startPosition?(t[e].isBelowBreakpoint=!0,i.callback(!1,n)):!0===o&&i.callback(!0,n);else if(n>=i.startPosition&&n<=i.endPosition||!0===o){var s=Math.ceil(100*(n-i.startPosition)/(i.endPosition-i.startPosition))/100;s>1?s=1:s<0&&(s=0),t[e].progress=s,i.callback(s,n)}else n>i.endPosition&&i.progress<1?(t[e].progress=1,i.callback(1,n)):n<i.startPosition&&i.progress>0&&(t[e].progress=0,i.callback(0,n))})},e=function(e,s,r,a){t.push({isBelowBreakpoint:!1,isTransitioning:!1,startPosition:s,endPosition:r,callback:a,type:e}),o||(o=!0,i.scrollTarget.addEventListener("scroll",function(){return window.requestAnimationFrame(n)})),n(!0)},{addBreakpointListener:function(o,t){e("breakpoint",o,null,t)},addProgressListener:function(o,t,i){e("progressive",o,t,i)},clearListeners:function(){t=[]},setOptions:function(o){!function(o,t){for(var i in t)o[i]=t[i]}(i,o)}});module.exports=s;
